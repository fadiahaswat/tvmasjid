<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Masjid - Royal Gold & Cyan Edition</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cinzel:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;700;800&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Outfit', 'sans-serif'], serif: ['Amiri', 'serif'], mono: ['JetBrains Mono', 'monospace'], cinzel: ['Cinzel', 'serif'] },
                    colors: { 
                        dark: { 900: '#000000', 800: '#0a0a0a', card: '#111111' },
                        gold: { 100: '#fbf5c4', 300: '#f0d865', 400: '#d4af37', 500: '#b4941f', 600: '#856404' },
                        cyan: { 400: '#22d3ee', 500: '#06b6d4', glow: '#67e8f9' } /* New Accent */
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'float': 'float 8s ease-in-out infinite',
                        'spin-slow': 'spin 30s linear infinite',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0', transform: 'scale(0.98) translateY(10px)' }, '100%': { opacity: '1', transform: 'scale(1) translateY(0)' } },
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } }
                    }
                }
            }
        }
    </script>

    <style>
        /* BASE & TEXTURE */
        body { background-color: #000000; color: #ffffff; overflow: hidden; font-family: 'Outfit', sans-serif; }
        
        /* Islamic Pattern Overlay (Subtle Gold) */
        .islamic-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.08'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            position: fixed; inset: 0; z-index: -1; pointer-events: none;
        }

        /* GLASS PANELS */
        .glass-panel {
            background: rgba(10, 10, 10, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(212, 175, 55, 0.2); /* Gold Border */
            box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
        }

        /* TEXT GRADIENTS & GLOWS */
        .text-gold-gradient {
            background: linear-gradient(to bottom, #fbf5c4, #d4af37, #92730b);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 5px rgba(212, 175, 55, 0.3));
        }
        .text-cyan-glow {
            color: #22d3ee;
            text-shadow: 0 0 15px rgba(34, 211, 238, 0.6);
        }

        /* UTILS */
        .hidden-slide { display: none !important; }
        .main-layout { display: grid; grid-template-rows: auto 1fr auto; height: 100vh; padding: 1.5vh 2vh; gap: 1.5vh; }
        
        /* FOOTER SCHEDULE STYLING (FIXED) */
        #footer-schedule { 
            display: grid; 
            grid-template-columns: repeat(8, 1fr); /* Force 8 Columns */
            gap: 0.5rem; 
            height: 100%; width: 100%; 
        }
        
        .schedule-item {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: rgba(255,255,255,0.02);
            border-radius: 0.5rem; 
            border: 1px solid rgba(255,255,255,0.05);
            transition: all 0.4s ease;
            position: relative; overflow: hidden;
        }

        /* Inactive State */
        .schedule-item h3 { color: #64748b; font-family: 'Outfit', sans-serif; font-weight: 600; font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 2px;}
        .schedule-item p { color: #52525b; font-family: 'JetBrains Mono', monospace; font-weight: 700; font-size: 1.8rem; }

        /* ACTIVE STATE (Highlight) */
        .schedule-item.active {
            background: linear-gradient(180deg, rgba(34, 211, 238, 0.05) 0%, rgba(0,0,0,0.5) 100%);
            border: 1px solid #d4af37; /* Gold Border */
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.1), inset 0 0 10px rgba(34, 211, 238, 0.1);
            transform: translateY(-2px);
            z-index: 10;
        }
        /* Active Text Colors */
        .schedule-item.active h3 { color: #d4af37 !important; font-weight: 800; } /* Gold Title */
        .schedule-item.active p { color: #22d3ee !important; text-shadow: 0 0 15px rgba(34, 211, 238, 0.8); } /* Cyan Time */

        /* OVERRIDE SCENES */
        .dynamic-bg { transition: background 1s ease; }
        /* Override themes uses Black + Accent Gradient */
        .theme-red { background: radial-gradient(circle at center, #3f0a0a 0%, #000 100%); }
        .theme-gold { background: radial-gradient(circle at center, #422006 0%, #000 100%); }
        .theme-green { background: radial-gradient(circle at center, #022c22 0%, #000 100%); }
    </style>
</head>
<body>

    <div class="islamic-pattern opacity-40"></div>
    <div class="fixed top-[-10%] right-[-10%] w-[40vw] h-[40vw] bg-gold-600/10 rounded-full blur-[120px] animate-pulse"></div>
    <div class="fixed bottom-[-10%] left-[-10%] w-[40vw] h-[40vw] bg-cyan-900/20 rounded-full blur-[120px] animate-pulse" style="animation-delay: 2s"></div>

    <div class="fixed top-0 left-0 w-full h-[2px] z-50">
        <div id="slide-progress" class="h-full bg-cyan-400 shadow-[0_0_15px_#22d3ee] transition-all duration-300 ease-linear w-0"></div>
    </div>

    <div class="main-layout relative z-10">
        
        <header class="glass-panel h-[14vh] px-6 grid grid-cols-12 gap-4 items-center rounded-2xl relative overflow-hidden">
            <div class="col-span-4 flex items-center gap-4 border-r border-white/10 pr-4 h-2/3">
                <img src="logo-putih-muallimin.webp" alt="Logo" class="h-16 w-auto object-contain drop-shadow-md" onerror="this.style.display='none';">
                <div class="flex flex-col justify-center">
                    <h1 class="font-cinzel font-bold text-xl lg:text-2xl tracking-widest uppercase leading-none mb-1 text-gold-gradient">Masjid Mu'allimin</h1>
                    <span class="text-cyan-500/70 text-[10px] tracking-[0.4em] uppercase font-bold">Yogyakarta</span>
                </div>
            </div>

            <div class="col-span-4 flex flex-col items-center justify-center">
                <span id="header-date-masehi" class="font-sans font-bold text-lg text-slate-300 tracking-wide mb-1">...</span>
                <span id="header-date-hijri" class="font-cinzel font-semibold text-xl text-gold-400 tracking-wide">...</span>
            </div>

            <div class="col-span-4 flex flex-col items-end justify-center pl-6 border-l border-white/10 h-2/3 relative">
                <div class="absolute top-[-10px] right-0 bg-gold-900/40 px-3 py-1 rounded-bl-lg border-b border-l border-gold-500/30">
                    <span class="text-[0.6rem] font-bold text-gold-300 uppercase tracking-widest">Menuju <span id="header-next-name" class="text-cyan-400">...</span></span>
                </div>
                <div id="header-clock" class="text-6xl font-mono font-bold text-white tracking-tighter leading-none mt-2 drop-shadow-lg tabular-nums">00:00</div>
            </div>
        </header>

        <main class="relative w-full h-full overflow-hidden glass-panel rounded-2xl flex flex-col justify-center items-center">
            
            <div id="scene-home" class="w-full h-full flex flex-col items-center justify-center animate-fade-in relative">
                <div class="relative z-10 text-center">
                    <div class="inline-flex items-center gap-4 mb-4 opacity-80">
                         <div class="h-[1px] w-12 bg-gold-500"></div>
                         <span class="font-cinzel text-gold-400 tracking-[0.5em] text-sm uppercase">Ahlan Wa Sahlan</span>
                         <div class="h-[1px] w-12 bg-gold-500"></div>
                    </div>
                    <h1 class="text-[7rem] font-cinzel font-black text-transparent bg-clip-text bg-gradient-to-b from-slate-100 to-slate-500 leading-[0.9] tracking-tight drop-shadow-2xl">
                        MASJID JAMI'
                    </h1>
                    <h1 class="text-[7rem] font-cinzel font-black text-gold-gradient leading-[0.9] tracking-tight mt-2">
                        MU'ALLIMIN
                    </h1>
                </div>
            </div>

            <div id="scene-next-detail" class="hidden-slide w-full h-full flex flex-col items-center justify-center animate-fade-in relative">
                <div class="absolute w-[60vh] h-[60vh] border border-cyan-500/10 rounded-full animate-spin-slow border-dashed z-0"></div>
                <div class="absolute w-[50vh] h-[50vh] border border-gold-500/10 rounded-full animate-spin-slow z-0" style="animation-direction: reverse;"></div>

                <div class="relative z-10 text-center">
                    <div class="bg-cyan-900/20 border border-cyan-500/30 px-6 py-2 rounded-full inline-block mb-10 backdrop-blur-md">
                        <span class="text-cyan-400 font-bold tracking-[0.3em] uppercase text-sm font-cinzel">Waktu Berikutnya</span>
                    </div>
                    
                    <h1 id="next-detail-name" class="text-[12vh] font-cinzel font-black text-white leading-none mb-4 uppercase drop-shadow-xl">ASHAAR</h1>
                    
                    <div class="flex items-baseline justify-center gap-4">
                         <span class="text-2xl text-slate-500 font-light uppercase tracking-widest">Pukul</span>
                         <span id="next-detail-time" class="text-[14vh] font-mono font-bold text-gold-400 tracking-tighter tabular-nums text-shadow-gold">15:10</span>
                    </div>

                    <div class="mt-8">
                        <span class="text-lg text-slate-400 uppercase tracking-[0.2em] block mb-2">Menuju Adzan</span>
                        <span id="next-detail-countdown" class="text-5xl font-mono font-bold text-cyan-glow tracking-widest tabular-nums">00:23:10</span>
                    </div>
                </div>
            </div>

            <div id="scene-ayat" class="hidden-slide w-full h-full flex flex-col items-center justify-center animate-fade-in px-24 text-center">
                <p id="ayat-arabic" class="text-6xl font-serif text-white leading-[2.2] mb-8 dir-rtl text-gold-gradient" style="direction: rtl;">...</p>
                <p id="ayat-text" class="text-3xl font-sans font-light text-slate-300 leading-relaxed italic">...</p>
                <p id="ayat-source" class="mt-10 text-xl font-cinzel font-bold text-cyan-500 uppercase tracking-widest">...</p>
            </div>

            <div id="scene-hadits" class="hidden-slide w-full h-full flex flex-col items-center justify-center animate-fade-in px-24 text-center">
                <p id="hadits-arabic" class="text-6xl font-serif text-white leading-[2.2] mb-8 dir-rtl text-gold-gradient" style="direction: rtl;">...</p>
                <p id="hadits-text" class="text-3xl font-sans font-light text-slate-300 leading-relaxed">...</p>
                <p id="hadits-source" class="mt-10 text-xl font-cinzel font-bold text-cyan-500 uppercase tracking-widest">...</p>
            </div>

        </main>

        <footer class="glass-panel h-[18vh] p-3 z-30 rounded-2xl">
            <div id="footer-schedule">
                </div>
        </footer>
    </div>

    <div id="scene-countdown" class="hidden-slide fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-center overflow-hidden dynamic-bg">
         <div class="islamic-pattern opacity-20"></div>
         <div class="relative z-10 flex flex-col items-center">
             <h2 id="countdown-title" class="text-4xl font-cinzel font-bold uppercase tracking-[0.4em] text-gold-400 mb-4">Menuju Adzan</h2>
             <h1 id="countdown-name" class="text-[12vh] font-cinzel font-black text-white leading-none mb-10 uppercase">MAGHRIB</h1>
             
             <div class="relative flex items-center justify-center">
                 <div class="absolute w-[50vh] h-[50vh] border-[4px] border-cyan-500/20 rounded-full animate-pulse"></div>
                 <span id="countdown-timer" class="text-[25vh] font-mono font-bold tabular-nums leading-none tracking-tighter text-cyan-glow drop-shadow-2xl">00:00</span>
             </div>
         </div>
    </div>

    <div id="scene-prayer" class="hidden-slide fixed inset-0 z-[60] bg-black flex flex-col items-center justify-center text-center px-10 overflow-hidden dynamic-bg">
        <div class="islamic-pattern opacity-10"></div>
        
        <div class="relative z-10 flex flex-col items-center justify-between h-[80vh] w-full max-w-6xl">
            <div>
                <i id="prayer-icon" class="ri-notification-off-fill text-6xl text-gold-400 mb-4 animate-pulse"></i>
                <h1 id="prayer-title" class="text-[7vh] font-cinzel font-black text-white uppercase tracking-widest leading-none">Sholat Berlangsung</h1>
            </div>

            <div class="my-auto w-full">
                <div id="prayer-clock-container">
                    <span class="text-[25vh] font-mono font-black text-cyan-glow tracking-tighter tabular-nums">12:05</span>
                </div>
                <div id="prayer-khutbah-container" class="hidden">
                    <p class="text-4xl text-slate-200 font-serif leading-relaxed italic max-w-4xl mx-auto">"Barangsiapa berbicara di hari Jumat ketika Imam sedang berkhutbah, maka sia-sialah Jumatnya"</p>
                </div>
            </div>
            
            <div class="border-y border-white/10 py-6 bg-white/5 w-full backdrop-blur-md">
                <p id="prayer-sub" class="text-4xl text-gold-400 font-bold tracking-wide mb-2">Luruskan & Rapatkan Shaf</p>
                <p id="prayer-note" class="text-xl text-slate-400 uppercase tracking-[0.3em]">Mohon Matikan Alat Komunikasi</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // MOCKUP DATA FOOTER (Agar terlihat 8 kolom sesuai request)
        // Hapus bagian ini jika script.js sudah mem-populate footer
        const times = ['Imsak', 'Subuh', 'Syuruq', 'Dhuha', 'Dzuhur', 'Ashar', 'Maghrib', 'Isya'];
        const scheduleContainer = document.getElementById('footer-schedule');
        scheduleContainer.innerHTML = ''; // Clear existing
        
        times.forEach((t) => {
            const div = document.createElement('div');
            // Simulasi "Ashar" sedang aktif
            const isActive = t === 'Ashar'; 
            div.className = `schedule-item ${isActive ? 'active' : ''}`;
            
            // Perhatikan kelas warna di sini sesuai request no 4
            div.innerHTML = `
                <h3 class="">${t}</h3>
                <p>00:00</p>
            `;
            scheduleContainer.appendChild(div);
        });

        // Update Font Hijri ke Cinzel (Request no 3)
        // Ini sudah diatur di class HTML: font-cinzel

        // Override Function Wrapper
        const originalApplyMode = window.applyMode || function(){};
        
        window.applyMode = function(mode, type, target, meta) {
            STATE.mode = mode;
            STATE.overrideType = type;
            
            const els = {
                cd: document.getElementById('scene-countdown'),
                pr: document.getElementById('scene-prayer'),
                prTitle: document.getElementById('prayer-title'),
                prSub: document.getElementById('prayer-sub'),
                prIcon: document.getElementById('prayer-icon'),
                clockCont: document.getElementById('prayer-clock-container'),
                khutbahCont: document.getElementById('prayer-khutbah-container')
            };

            // Hide All First
            document.querySelector('header').style.display = 'grid';
            document.querySelector('footer').style.display = 'grid'; // Grid agar tetap 8 kolom
            document.querySelectorAll('main > div').forEach(el => el.classList.add('hidden-slide'));
            els.cd.classList.add('hidden-slide');
            els.pr.classList.add('hidden-slide');

            if (mode === 'NORMAL') {
                // Logic carousel normal ada di renderSlide()
                if(typeof renderSlide === 'function') renderSlide();
            } else {
                // Hide main elements
                document.querySelector('header').style.display = 'none';
                document.querySelector('footer').style.display = 'none';

                if (type === 'ADZAN' || type === 'IQAMAH') {
                    els.cd.classList.remove('hidden-slide');
                    els.cd.className = `fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-center overflow-hidden dynamic-bg ${type === 'ADZAN' ? 'theme-red' : 'theme-gold'}`;
                    document.getElementById('countdown-title').innerText = type === 'ADZAN' ? 'MENUJU ADZAN' : 'MENUJU IQAMAH';
                    document.getElementById('countdown-name').innerText = meta.name || 'SHOLAT';
                    if(target) updateOverlayTimer(target - new Date());
                } else {
                    els.pr.classList.remove('hidden-slide');
                    els.clockCont.style.display = 'block';
                    els.khutbahCont.style.display = 'none';

                    if (type === 'JUMAT') {
                        els.pr.className = 'fixed inset-0 z-[60] bg-black flex flex-col items-center justify-center text-center px-10 overflow-hidden dynamic-bg theme-gold'; // Gold Theme for Jumat
                        els.prTitle.innerText = "KHUTBAH JUMAT";
                        els.prIcon.className = "ri-volume-off-vibrate-fill text-6xl text-cyan-400 mb-4";
                        els.clockCont.style.display = 'none';
                        els.khutbahCont.style.display = 'block';
                        els.khutbahCont.classList.remove('hidden');
                        els.prSub.innerText = "Dengarkan Khatib";
                    } else if (type === 'PRAYER') {
                        els.pr.className = 'fixed inset-0 z-[60] bg-black flex flex-col items-center justify-center text-center px-10 overflow-hidden dynamic-bg theme-green';
                        els.prTitle.innerText = "SHOLAT BERLANGSUNG";
                        els.prIcon.className = "ri-notification-off-fill text-6xl text-gold-400 mb-4 animate-pulse";
                        els.prSub.innerText = "Luruskan & Rapatkan Shaf";
                    }
                }
            }
        };
    </script>
</body>
</html>
